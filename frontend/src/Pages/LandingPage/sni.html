<h1>data</h1>
<div>import { Room } from '../models/room.model';

export const ROOMS_DATA: Room[] = [
  {
    id: 'STD001',
    roomType: 'Standard',
    name: 'Classic Comfort Room',
    price: 120,
    maxAdults: 2,
    maxChildren: 1,
    amenities: ['Free WiFi', 'Air Conditioning', 'Flat Screen TV', 'Mini Bar', 'Room Service'],
    image: 'https://images.unsplash.com/photo-1611892440504-42a792e24d32?w=800&q=80',
    available: true,
    description: 'A cozy room perfect for couples or solo travelers seeking comfort and style.',
    size: '250 sq ft',
    bedType: 'Queen Bed'
  },
  {
    id: 'STD002',
    roomType: 'Standard',
    name: 'Urban Retreat Room',
    price: 135,
    maxAdults: 2,
    maxChildren: 2,
    amenities: ['Free WiFi', 'Air Conditioning', 'Smart TV', 'Coffee Maker', 'Work Desk'],
    image: 'https://images.unsplash.com/photo-1590490360182-c33d57733427?w=800&q=80',
    available: true,
    description: 'Modern design meets functionality in this spacious standard room.',
    size: '280 sq ft',
    bedType: 'Two Twin Beds'
  },
  {
    id: 'STD003',
    roomType: 'Standard',
    name: 'Serene Standard Suite',
    price: 145,
    maxAdults: 3,
    maxChildren: 1,
    amenities: ['Free WiFi', 'Air Conditioning', 'Premium Bedding', 'Mini Bar', 'Balcony'],
    image: 'https://images.unsplash.com/photo-1582719478250-c89cae4dc85b?w=800&q=80',
    available: true,
    description: 'Enjoy peaceful moments with a private balcony and premium amenities.',
    size: '300 sq ft',
    bedType: 'King Bed'
  },
  {
    id: 'DLX001',
    roomType: 'Deluxe',
    name: 'Executive Deluxe Room',
    price: 220,
    maxAdults: 2,
    maxChildren: 2,
    amenities: ['Free WiFi', 'Air Conditioning', '4K Smart TV', 'Nespresso Machine', 'Work Station', 'Bathtub'],
    image: 'https://images.unsplash.com/photo-1566665797739-1674de7a421a?w=800&q=80',
    available: true,
    description: 'Elevated luxury with sophisticated design and exclusive amenities.',
    size: '400 sq ft',
    bedType: 'King Bed'
  },
  {
    id: 'DLX002',
    roomType: 'Deluxe',
    name: 'Premium Deluxe Suite',
    price: 250,
    maxAdults: 3,
    maxChildren: 2,
    amenities: ['Free WiFi', 'Air Conditioning', 'Premium Entertainment', 'Mini Bar', 'Separate Living Area', 'Rain Shower'],
    image: 'https://images.unsplash.com/photo-1578683010236-d716f9a3f461?w=800&q=80',
    available: true,
    description: 'Experience refined comfort with a separate living space and premium fixtures.',
    size: '450 sq ft',
    bedType: 'King Bed + Sofa Bed'
  },
  {
    id: 'DLX003',
    roomType: 'Deluxe',
    name: 'Panoramic Deluxe Room',
    price: 280,
    maxAdults: 2,
    maxChildren: 1,
    amenities: ['Free WiFi', 'Air Conditioning', 'Floor-to-Ceiling Windows', 'Espresso Machine', 'Luxury Bathroom', 'City Views'],
    image: 'https://images.unsplash.com/photo-1595576508898-0ad5c879a061?w=800&q=80',
    available: true,
    description: 'Breathtaking views and luxurious amenities in a stunning contemporary space.',
    size: '420 sq ft',
    bedType: 'King Bed'
  },
  {
    id: 'STE001',
    roomType: 'Suite',
    name: 'Presidential Suite',
    price: 450,
    maxAdults: 4,
    maxChildren: 2,
    amenities: ['Free WiFi', 'Air Conditioning', 'Private Lounge', 'Kitchen', 'Jacuzzi', 'Butler Service', 'Terrace'],
    image: 'https://images.unsplash.com/photo-1591088398332-8a7791972843?w=800&q=80',
    available: true,
    description: 'Ultimate luxury with expansive living spaces and personalized butler service.',
    size: '800 sq ft',
    bedType: 'King Bed + Twin Beds'
  },
  {
    id: 'STE002',
    roomType: 'Suite',
    name: 'Royal Penthouse Suite',
    price: 550,
    maxAdults: 4,
    maxChildren: 3,
    amenities: ['Free WiFi', 'Air Conditioning', 'Full Kitchen', 'Dining Area', 'Master Bedroom', 'Spa Bathroom', 'Private Pool'],
    image: 'https://images.unsplash.com/photo-1598928506311-c55ded91a20c?w=800&q=80',
    available: true,
    description: 'Indulge in royal treatment with exclusive amenities and private pool access.',
    size: '1200 sq ft',
    bedType: '2 King Beds'
  },
  {
    id: 'STE003',
    roomType: 'Suite',
    name: 'Grand Heritage Suite',
    price: 480,
    maxAdults: 3,
    maxChildren: 2,
    amenities: ['Free WiFi', 'Air Conditioning', 'Living Room', 'Kitchenette', 'Walk-in Closet', 'Steam Room', 'Skyline Views'],
    image: 'https://images.unsplash.com/photo-1617859047452-8510bcf207fd?w=800&q=80',
    available: true,
    description: 'Classic elegance meets modern luxury in this spectacular suite.',
    size: '900 sq ft',
    bedType: 'King Bed + Queen Sofa Bed'
  },
  {
    id: 'STE004',
    roomType: 'Suite',
    name: 'Luxury Executive Suite',
    price: 520,
    maxAdults: 4,
    maxChildren: 2,
    amenities: ['Free WiFi', 'Air Conditioning', 'Home Theater', 'Full Bar', 'Conference Area', 'Spa Bathroom', 'Panoramic Views'],
    image: 'https://images.unsplash.com/photo-1631049552240-59c37f38802b?w=800&q=80',
    available: true,
    description: 'Perfect for business and leisure with state-of-the-art facilities.',
    size: '1000 sq ft',
    bedType: 'King Bed + 2 Twin Beds'
  }
];
</div>
<h1>model</h1>
<div>export interface Room {
  id: string;
  roomType: 'Standard' | 'Deluxe' | 'Suite';
  name: string;
  price: number;
  maxAdults: number;
  maxChildren: number;
  amenities: string[];
  image: string;
  available: boolean;
  description: string;
  size: string;
  bedType: string;
}

export interface SearchCriteria {
  checkIn: Date | null;
  checkOut: Date | null;
  adults: number;
  children: number;
  roomType: string;
}

export interface Booking {
  bookingId: string;
  room: Room;
  checkIn: Date;
  checkOut: Date;
  adults: number;
  children: number;
  nights: number;
  totalPrice: number;
  customerName?: string;
  customerEmail?: string;
  customerPhone?: string;
}

export interface PaymentDetails {
  cardNumber: string;
  cardHolder: string;
  expiryDate: string;
  cvv: string;
}

export interface Invoice {
  invoiceNumber: string;
  booking: Booking;
  paymentDate: Date;
  paymentMethod: string;
}
</div>
<h1>booking service</h1>
<div>import { Injectable } from '@angular/core';
import { BehaviorSubject, Observable } from 'rxjs';
import { Booking, Room } from '../models/room.model';

@Injectable({
  providedIn: 'root'
})
export class BookingService {
  private currentBookingSubject = new BehaviorSubject<Booking | null>(null);
  public currentBooking$ = this.currentBookingSubject.asObservable();

  constructor() {}

  createBooking(
    room: Room,
    checkIn: Date,
    checkOut: Date,
    adults: number,
    children: number
  ): Booking {
    const nights = this.calculateNights(checkIn, checkOut);
    const totalPrice = room.price * nights;

    const booking: Booking = {
      bookingId: this.generateBookingId(),
      room,
      checkIn,
      checkOut,
      adults,
      children,
      nights,
      totalPrice
    };

    this.currentBookingSubject.next(booking);
    return booking;
  }

  getCurrentBooking(): Booking | null {
    return this.currentBookingSubject.value;
  }

  updateCustomerDetails(name: string, email: string, phone: string): void {
    const booking = this.currentBookingSubject.value;
    if (booking) {
      booking.customerName = name;
      booking.customerEmail = email;
      booking.customerPhone = phone;
      this.currentBookingSubject.next(booking);
    }
  }

  clearBooking(): void {
    this.currentBookingSubject.next(null);
  }

  private calculateNights(checkIn: Date, checkOut: Date): number {
    const diffTime = Math.abs(checkOut.getTime() - checkIn.getTime());
    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
    return diffDays;
  }

  private generateBookingId(): string {
    const timestamp = Date.now();
    const random = Math.floor(Math.random() * 1000);
    return `BK${timestamp}${random}`;
  }
}
</div>
<h1>invoice service</h1>
<div>import { Injectable } from '@angular/core';
import { Invoice, Booking } from '../models/room.model';
import jsPDF from 'jspdf';
import autoTable from 'jspdf-autotable';

@Injectable({
  providedIn: 'root'
})
export class InvoiceService {
  constructor() {}

  generateInvoice(booking: Booking, paymentMethod: string = 'Credit Card'): Invoice {
    return {
      invoiceNumber: this.generateInvoiceNumber(),
      booking,
      paymentDate: new Date(),
      paymentMethod
    };
  }

  downloadInvoice(invoice: Invoice): void {
    const doc = new jsPDF();
    const pageWidth = doc.internal.pageSize.getWidth();

    // Header - Hotel Name
    doc.setFillColor(26, 32, 44);
    doc.rect(0, 0, pageWidth, 40, 'F');
    
    doc.setTextColor(255, 255, 255);
    doc.setFontSize(24);
    doc.setFont('helvetica', 'bold');
    doc.text('GRANDEUR HOTELS', pageWidth / 2, 20, { align: 'center' });
    
    doc.setFontSize(10);
    doc.setFont('helvetica', 'normal');
    doc.text('Luxury Accommodations & Premium Service', pageWidth / 2, 30, { align: 'center' });

    // Invoice Title
    doc.setTextColor(0, 0, 0);
    doc.setFontSize(20);
    doc.setFont('helvetica', 'bold');
    doc.text('INVOICE', 20, 55);

    // Invoice Details
    doc.setFontSize(10);
    doc.setFont('helvetica', 'normal');
    doc.text(`Invoice Number: ${invoice.invoiceNumber}`, 20, 65);
    doc.text(`Booking ID: ${invoice.booking.bookingId}`, 20, 72);
    doc.text(`Date: ${this.formatDate(invoice.paymentDate)}`, 20, 79);

    // Customer Details Box
    doc.setDrawColor(200, 200, 200);
    doc.setFillColor(249, 250, 251);
    doc.roundedRect(20, 90, pageWidth - 40, 30, 3, 3, 'FD');
    
    doc.setFontSize(11);
    doc.setFont('helvetica', 'bold');
    doc.text('Customer Details', 25, 100);
    
    doc.setFontSize(10);
    doc.setFont('helvetica', 'normal');
    doc.text(`Name: ${invoice.booking.customerName || 'Guest'}`, 25, 108);
    doc.text(`Email: ${invoice.booking.customerEmail || 'guest@hotel.com'}`, 25, 115);

    // Booking Summary Table
    autoTable(doc, {
      startY: 130,
      head: [['Description', 'Details']],
      body: [
        ['Room Type', invoice.booking.room.name],
        ['Room Category', invoice.booking.room.roomType],
        ['Check-in Date', this.formatDate(invoice.booking.checkIn)],
        ['Check-out Date', this.formatDate(invoice.booking.checkOut)],
        ['Number of Nights', invoice.booking.nights.toString()],
        ['Guests', `${invoice.booking.adults} Adult(s), ${invoice.booking.children} Child(ren)`],
      ],
      theme: 'striped',
      headStyles: { 
        fillColor: [26, 32, 44],
        fontSize: 11,
        fontStyle: 'bold'
      },
      bodyStyles: { 
        fontSize: 10 
      },
      columnStyles: {
        0: { cellWidth: 60, fontStyle: 'bold' },
        1: { cellWidth: 'auto' }
      },
      margin: { left: 20, right: 20 }
    });

    // Price Breakdown Table
    const finalY = (doc as any).lastAutoTable.finalY + 10;
    
    autoTable(doc, {
      startY: finalY,
      head: [['Item', 'Rate', 'Quantity', 'Amount']],
      body: [
        [
          invoice.booking.room.name,
          `$${invoice.booking.room.price}`,
          `${invoice.booking.nights} nights`,
          `$${invoice.booking.room.price * invoice.booking.nights}`
        ]
      ],
      foot: [
        ['', '', 'Subtotal:', `$${invoice.booking.totalPrice}`],
        ['', '', 'Tax (0%):', '$0'],
        ['', '', 'Total Amount:', `$${invoice.booking.totalPrice}`]
      ],
      theme: 'striped',
      headStyles: { 
        fillColor: [26, 32, 44],
        fontSize: 11,
        fontStyle: 'bold'
      },
      bodyStyles: { 
        fontSize: 10 
      },
      footStyles: {
        fillColor: [249, 250, 251],
        textColor: [0, 0, 0],
        fontSize: 10,
        fontStyle: 'bold'
      },
      columnStyles: {
        0: { cellWidth: 80 },
        1: { cellWidth: 30, halign: 'right' },
        2: { cellWidth: 35, halign: 'right' },
        3: { cellWidth: 35, halign: 'right' }
      },
      margin: { left: 20, right: 20 }
    });

    // Payment Info
    const paymentY = (doc as any).lastAutoTable.finalY + 15;
    doc.setFontSize(10);
    doc.setFont('helvetica', 'bold');
    doc.text('Payment Method:', 20, paymentY);
    doc.setFont('helvetica', 'normal');
    doc.text(invoice.paymentMethod, 65, paymentY);

    // Footer
    const footerY = doc.internal.pageSize.getHeight() - 30;
    doc.setDrawColor(200, 200, 200);
    doc.line(20, footerY, pageWidth - 20, footerY);
    
    doc.setFontSize(9);
    doc.setTextColor(100, 100, 100);
    doc.text('Thank you for choosing Grandeur Hotels!', pageWidth / 2, footerY + 10, { align: 'center' });
    doc.text('For inquiries: contact@grandeurhotels.com | +1 (555) 123-4567', pageWidth / 2, footerY + 17, { align: 'center' });

    // Save PDF
    doc.save(`Invoice_${invoice.invoiceNumber}.pdf`);
  }

  private generateInvoiceNumber(): string {
    const timestamp = Date.now();
    const random = Math.floor(Math.random() * 1000);
    return `INV${timestamp}${random}`;
  }

  private formatDate(date: Date): string {
    return new Date(date).toLocaleDateString('en-US', {
      year: 'numeric',
      month: 'long',
      day: 'numeric'
    });
  }
}
</div>
<h1>payment service</h1>
<div>import { Injectable } from '@angular/core';
import { PaymentDetails } from '../models/room.model';

@Injectable({
  providedIn: 'root'
})
export class PaymentService {
  // Dummy valid card details
  private readonly VALID_CARD = {
    cardNumber: '4111111111111111',
    cvv: '123'
  };

  constructor() {}

  async processPayment(paymentDetails: PaymentDetails): Promise<boolean> {
    // Simulate processing delay
    await this.delay(4000);

    // Validate payment details
    const cleanCardNumber = paymentDetails.cardNumber.replace(/\s/g, '');
    const isValid = 
      cleanCardNumber === this.VALID_CARD.cardNumber &&
      paymentDetails.cvv === this.VALID_CARD.cvv &&
      this.isExpiryValid(paymentDetails.expiryDate);

    return isValid;
  }

  validateCardNumber(cardNumber: string): boolean {
    const cleaned = cardNumber.replace(/\s/g, '');
    return /^\d{16}$/.test(cleaned);
  }

  validateCVV(cvv: string): boolean {
    return /^\d{3}$/.test(cvv);
  }

  validateExpiryDate(expiry: string): boolean {
    if (!/^\d{2}\/\d{2}$/.test(expiry)) {
      return false;
    }
    return this.isExpiryValid(expiry);
  }

  private isExpiryValid(expiry: string): boolean {
    const [month, year] = expiry.split('/').map(num => parseInt(num, 10));
    const currentDate = new Date();
    const currentYear = currentDate.getFullYear() % 100;
    const currentMonth = currentDate.getMonth() + 1;

    if (month < 1 || month > 12) {
      return false;
    }

    if (year < currentYear) {
      return false;
    }

    if (year === currentYear && month < currentMonth) {
      return false;
    }

    return true;
  }

  private delay(ms: number): Promise<void> {
    return new Promise(resolve => setTimeout(resolve, ms));
  }
}
</div>
<h1>room service</h1>
<div>import { Injectable } from '@angular/core';
import { BehaviorSubject, Observable } from 'rxjs';
import { Room, SearchCriteria } from '../models/room.model';
import { ROOMS_DATA } from '../data/rooms.data';

@Injectable({
  providedIn: 'root'
})
export class RoomService {
  private roomsSubject = new BehaviorSubject<Room[]>(ROOMS_DATA);
  public rooms$ = this.roomsSubject.asObservable();

  private filteredRoomsSubject = new BehaviorSubject<Room[]>(ROOMS_DATA);
  public filteredRooms$ = this.filteredRoomsSubject.asObservable();

  constructor() {}

  getAllRooms(): Room[] {
    return ROOMS_DATA;
  }

  getRoomById(id: string): Room | undefined {
    return ROOMS_DATA.find(room => room.id === id);
  }

  searchRooms(criteria: SearchCriteria): Room[] {
    let results = ROOMS_DATA.filter(room => room.available);

    // Filter by room type
    if (criteria.roomType && criteria.roomType !== 'All') {
      results = results.filter(room => room.roomType === criteria.roomType);
    }

    // Filter by capacity
    if (criteria.adults) {
      results = results.filter(room => room.maxAdults >= criteria.adults);
    }

    if (criteria.children) {
      results = results.filter(room => room.maxChildren >= criteria.children);
    }

    this.filteredRoomsSubject.next(results);
    return results;
  }

  resetFilters(): void {
    this.filteredRoomsSubject.next(ROOMS_DATA);
  }
}
</div>
<h1>app component</h1>
<div>import { Component } from '@angular/core';
import { RouterOutlet } from '@angular/router';

@Component({
  selector: 'app-root',
  standalone: true,
  imports: [RouterOutlet],
  template: '<router-outlet></router-outlet>',
  styles: []
})
export class AppComponent {
  title = 'hotel-booking-app';
}
</div>
